{"version":3,"sources":["webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/main.js","webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue?6d37","webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue?ce2c","webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue?b6e7","webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue?c528","webpack:///C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue"],"names":["createPage","Page","data","focusClass","username","password","rules","rule","msg","safety","time","state","interval","methods","getCode","test","uni","showToast","title","icon","success","setInterval","clearInterval","$H","post","mobile","opt","then","res","catch","err","console","log","focus","key","blur","validate","check","forEach","v","submit","showLoading","mask","verify_code","hideLoading","setStorageSync","navigateTo","url","e","wechatLogin","getUserInfo","provider","errMsg","openid","loginRes","authResult","user_id","token","error"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=4f78adf0&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/tt/Desktop/maiwei/face-to-face/pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=4f78adf0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      !_vm.safety.state ? _vm.getCode() : \"\"\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tfocusClass: {\n\t\t\t\tusername: false,\n\t\t\t\tpassword: false\n\t\t\t},\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\",\n\t\t\t// 正则验证\n\t\t\trules: {\n\t\t\t\tusername: [\n\t\t\t\t\t{\n\t\t\t\t\t\trule: /^[1][3-9]\\d{9}$/,\n\t\t\t\t\t\tmsg: \"请输入正确的11位手机号\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tpassword: [\n\t\t\t\t\t{\n\t\t\t\t\t\trule: /^\\d{4}$/,\n\t\t\t\t\t\tmsg: \"请输入您的验证码\"\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tsafety: {\n\t\t\t\ttime: 60,\n\t\t\t\tstate: false,\n\t\t\t\tinterval: ''\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t}\n\t},\n\t\n\tmethods: {\n\t\t// 点击发送验证码\n\t\tgetCode() {\n\t\t\tif ((this.rules.username[0].rule).test(this.username)) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"发送成功\",\n\t\t\t\t\ticon: \"success\",\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t// 成功后显示倒计时60s后可在点击\n\t\t\t\t\t\tthis.safety.state = true;\n\t\t\t\t\t\t// 倒计时\n\t\t\t\t\t\tthis.safety.interval = setInterval(() => {\n\t\t\t\t\t\t\tif (this.safety.time-- <= 0) {\n\t\t\t\t\t\t\t\tthis.safety.time = 60;\n\t\t\t\t\t\t\t\tthis.safety.state = false;\n\t\t\t\t\t\t\t\tclearInterval(this.safety.interval);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\tthis.$H.post('/agent/', {\n\t\t\t\t\t\t\tmobile: this.username,\n\t\t\t\t\t\t\topt: 'verify_code'\n\t\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\t\tconsole.log('!!catch err:', err);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"请输入正确的手机号\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 点击登录\n\t\tfocus(key) {\n\t\t\tthis.focusClass[key] = true\n\t\t},\n\t\tblur(key) {\n\t\t\tthis.focusClass[key] = false\n\t\t},\n\t\t// 表单验证\n\t\tvalidate(key) {\n\t\t\tlet check = true\n\t\t\tthis.rules[key].forEach((v) => {\n\t\t\t\t// 验证失败\n\t\t\t\tif(!v.rule.test(this[key])) {\n\t\t\t\t\tconsole.log('key不通：', v);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: v.msg,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tcheck = false\n\t\t\t\t\treturn false\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('key通过：', v);\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn check\n\t\t},\n\t\t// 登录 提交表单\n\t\tsubmit() {\n\t\t\tif(!this.validate('username')) return\n\t\t\tif(!this.validate('password')) return\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中...',\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\t// 对接后台 实现登录\n\t\t\tthis.$H.post(\"/agent/\", {\n\t\t\t\tmobile: this.username,\n\t\t\t\topt: 'verify_login',\n\t\t\t\tverify_code: this.password\n\t\t\t}).then((res) => {\n\t\t\t\tif(res) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\ttry {\n\t\t\t\t\t  uni.setStorageSync('uid', '100003');\n\t\t\t\t\t\tuni.setStorageSync('utoken', 'dXQyMDIwMDMzMDE1MTIyODc2NDYzOTA1');\n\t\t\t\t\t\t// uni.setStorageSync('uid', res.user_id);\n\t\t\t\t\t\t// uni.setStorageSync('utoken', res.openid);\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: \"/pages/index/index\"\n\t\t\t\t\t\t})\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t    console.log(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t},\n\t\t// 微信登录\n\t\twechatLogin() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '登录中...',\n\t\t\t\tmask: false\n\t\t\t});\n\t\t\t// 开始登录\n\t\t\tuni.getUserInfo({\n\t\t\t  provider: 'weixin',\n\t\t\t  success: function (res, errMsg) {\n\t\t\t\t\tconsole.log('---:', res, errMsg);\n\t\t\t\t\tvar openid = loginRes.authResult.openid\n\t\t\t\t\tconsole.log(openid);\n\t\t\t\t\tif(openid) {\n\t\t\t\t\t\tthis.$H.post(\"/agent/\", {\n\t\t\t\t\t\t\topt: \"openid_login\",\n\t\t\t\t\t\t\topenid: openid,\n\t\t\t\t\t\t}).then((res) => {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\tuni.setStorageSync('uid', res.user_id);\n\t\t\t\t\t\t\tuni.setStorageSync('utoken', res.token);\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: \"/pages/index/index\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).catch((error) => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"用户不正确\",\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t  }\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\t\n\t}\n}\n"],"sourceRoot":""}